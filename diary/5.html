<!DOCTYPE HTML>
<html>

<head>
  <title>Using jasmine in requirejs</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="../assets/css/main.css" />
</head>

<body>

  <!-- Page Wrapper -->
  <div id="page-wrapper">

    <!-- Header -->
    <header id="header">
      <h1><a href="../index.html">Byte Planet</a></h1>
      <nav id="nav">
        <ul>
          <li class="special">
            <a href="#menu" class="menuToggle"><span>Menu</span></a>
            <div id="menu">
              <ul>
                <li><a href="../index.html">Home</a></li>
                <li><a href="#footer">Links</a></li>
              </ul>
            </div>
          </li>
        </ul>
      </nav>
    </header>

    <!-- Main -->
    <article id="main">
      <header>
        <h2>Using jasmine in requirejs</h2>
        <p>2016.06.09</p>
      </header>
      <section class="wrapper style5">
        <div class="inner">

          <p>
            The new boot.js does a bunch of the initialization and attaches it to window.onload() which has already been called by the
            time require.js loads Jasmine. You can manually call window.onload() to initialize the HTML Reporter and execute
            the environment.
          </p>

          <p>SpecRunner.html</p>
          <div>
            <pre><code>&lt;!doctype html&gt;
            &lt;html&gt;
            &lt;head&gt;
              &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;
              &lt;title&gt;Jasmine Spec Runner v2.0.0&lt;/title&gt;

              &lt;link rel="shortcut icon" type="image/png" href="lib/jasmine-2.0.0/jasmine_favicon.png"&gt;
              &lt;link rel="stylesheet" type="text/css" href="lib/jasmine-2.0.0/jasmine.css"&gt;

              &lt;!-- specRunner.js runs all of the tests --&gt;
              &lt;script data-main="specRunner" src="../bower_components/requirejs/require.js"&gt;&lt;/script&gt;
            &lt;/head&gt;
            &lt;body&gt;
            &lt;/body&gt;
            &lt;/html&gt;
            </code></pre>
          </div>

          <p>specRunner.js</p>
          <div class="callout">
            <pre><code>(function() {
              'use strict';

              // Configure RequireJS to shim Jasmine
              require.config({
                baseUrl: '..',
                paths: {
                  'jasmine': 'tests/lib/jasmine-2.0.0/jasmine',
                  'jasmine-html': 'tests/lib/jasmine-2.0.0/jasmine-html',
                  'boot': 'tests/lib/jasmine-2.0.0/boot'
                },
                shim: {
                  'jasmine': {
                    exports: 'window.jasmineRequire'
                  },
                  'jasmine-html': {
                    deps: ['jasmine'],
                    exports: 'window.jasmineRequire'
                  },
                  'boot': {
                    deps: ['jasmine', 'jasmine-html'],
                    exports: 'window.jasmineRequire'
                  }
                }
              });

              // Define all of your specs here. These are RequireJS modules.
              var specs = [
                'tests/spec/routerSpec'
              ];

              // Load Jasmine - This will still create all of the normal Jasmine browser globals unless `boot.js` is re-written to use the
              // AMD or UMD specs. `boot.js` will do a bunch of configuration and attach it's initializers to `window.onload()`. Because
              // we are using RequireJS `window.onload()` has already been triggered so we have to manually call it again. This will
              // initialize the HTML Reporter and execute the environment.
              require(['boot'], function () {

                // Load the specs
                require(specs, function () {

                  // Initialize the HTML Reporter and execute the environment (setup by `boot.js`)
                  window.onload();
                });
              });
            })();
            </code></pre>
          </div>
          <p>Example spec</p>
          <div>
            <pre><code>define(['router'], function(router) {
              'use strict';

              describe('router', function() {
                it('should have routes defined', function() {
                  router.config({});
                  expect(router.routes).toBeTruthy();
                });
              });
            });
            </code></pre>
          </div>
        </div>
      </section>
    </article>

    <!-- Footer -->
    <footer id="footer">
      <ul class="icons">
        <li><a target="blank" href="https://twitter.com/tyrealgray" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
        <li><a target="blank" href="https://www.facebook.com/TyrealGray" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
        <li><a target="blank" href="https://github.com/TyrealGray" class="icon fa-github"><span class="label">Github</span></a></li>
        <li><a target="blank" href="mailto:tyrealgray@ymail.com" class="icon fa-envelope-o"><span class="label">Email</span></a></li>
      </ul>
      <ul class="copyright">
        <li>&copy;Tyreal Gray</li>
        <li>Language: <a href="#">中文</a></li>
      </ul>
    </footer>

  </div>

  <!-- Scripts -->
  <script type="text/javascript" src="../dist/home.bundle.js" charset="utf-8"></script>

</body>

</html>