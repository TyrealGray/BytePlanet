define(["require","underscore","backbone","mustache","module/GlobalVar","text!../../../html/NavMenu.html","text!../../../html/LeftCanvas.html"],function(e){"use strict";function u(){this._initEvent()}var t=e("underscore"),n=e("backbone"),r=e("mustache"),i=e("module/GlobalVar"),s=e("text!../../../html/NavMenu.html"),o=e("text!../../../html/LeftCanvas.html");return t.extend(u.prototype,n.Events),u.prototype.PAGE_HOME_INDEX=0,u.prototype.PAGE_ME_INFO_INDEX=1,u.prototype.PAGE_DIARIES_INDEX=2,u.prototype.PAGE_LANGUAGE_INDEX=3,u.prototype.getNavMenuContent=function(){var e=i.language.LeftCanvas;return r.render(s,{HomeMenuText:e.Home,DiariesMenuText:e.Diary,LanguageSettingText:e.Language})},u.prototype.getLeftCanvasContent=function(){var e=i.language.LeftCanvas;return r.render(o,{HomeMenuText:e.Home,MeInfoMenuText:e.MeInfo,DiariesMenuText:e.Diary,LanguageSettingText:e.Language})},u.prototype._bindEvent=function(){var e=this;$(".navMenuContent").each(function(){$(this).children("li").each(function(){$(this).click(function(t){e.trigger("switchPage",$(this).data("index"))})})})},u.prototype._initEvent=function(){this.on("switchPage",function(e){this._showPage(e),i.mainContent.trigger("activePage",e)}),this._bindEvent()},u.prototype._showPage=function(e){$(".centreContent").each(function(){$(this).hide()});var t="";switch(e){case this.PAGE_HOME_INDEX:t="homePage";break;case this.PAGE_ME_INFO_INDEX:t="meInfoPage";break;case this.PAGE_DIARIES_INDEX:t="diariesPage";break;case this.PAGE_LANGUAGE_INDEX:t="languagePage";break;default:}$("#"+t).fadeIn(),setTimeout(function(){$(".js-off-canvas-exit").trigger("click")},200)},u});