var locale=localStorage.getItem("locale")||navigator.language.toLowerCase();requirejs.config({baseUrl:"build/js/",paths:{i18n:"thirdLib/requirejs/i18n",PDFJS:"thirdLib/pdfjs/pdf",text:"thirdLib/requirejs/text",mustache:"thirdLib/mustache.min",backbone:"thirdLib/backbonejs/backbone-min",underscore:"thirdLib/backbonejs/underscore-min",jquery:"thirdLib/foundationjs/vendor/jquery.min",dataTable:"thirdLib/foundationjs/vendor/jquery.dataTables.min",foundation:"thirdLib/foundationjs/foundation.min",localization:"module/interface/localization/"},config:{i18n:{locale:locale}},shim:{dataTable:{deps:["jquery"]},backbone:{deps:["underscore"]}}}),define(["require","i18n!localization/language","module/Context","module/CssJsLoader","module/MainFrame","module/GlobalVar"],function(e){"use strict";function u(){var e=["build/css/foundation.min.css","build/css/foundation-icons.css","build/css/app.css"];e.forEach(function(e){r.loadCssFile(n.getServerUrl()+e)})}var t=e("i18n!localization/language"),n=e("module/Context"),r=e("module/CssJsLoader"),i=e("module/MainFrame"),s=e("module/GlobalVar");s.language=t;var o=null;e(["foundation"],function(){try{o=new i}catch(e){console.error(e)}$(document).foundation(),u(),window.onhashchange(window.location.hash)}),window.onresize=function(){if(null===s.threejsRenderer)return;s.threejsRenderer.onWindowResize()},window.onhashchange=function(){if(null===o)return;o.routerUrlHash(window.location.hash)}});